<!DOCTYPE html><html><head>
      <title>problem110</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\shiyu\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.8.1\crossnote\dependencies\katex\katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
.markdown-preview.markdown-preview {
  font-family: "微软雅黑";
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      <div class="code-chunk" data-id="code-chunk-id-0" data-cmd="toc"><div class="input-div"><div class="code-chunk-btn-group"><div class="run-btn btn btn-xs btn-primary"><span>▶︎</span></div><div class="run-all-btn btn btn-xs btn-primary">all</div></div><div class="status">running...</div></div><div class="output-div"></div></div><h1 id="meta-loopless-sorts" data-source-line="13">Meta-Loopless Sorts </h1>
<ul data-source-line="17">
<li data-source-line="17"><a href="#meta-loopless-sorts">Meta-Loopless Sorts</a>
<ul data-source-line="18">
<li data-source-line="18"><a href="#1-%E9%A2%98%E7%9B%AE">1. 题目</a>
<ul data-source-line="19">
<li data-source-line="19"><a href="#sample-input">Sample Input</a></li>
<li data-source-line="20"><a href="#sample-output">Sample Output</a></li>
<li data-source-line="21"><a href="#11-%E9%A2%98%E6%84%8F">1.1 题意</a></li>
</ul>
</li>
<li data-source-line="22"><a href="#2-%E6%80%9D%E8%B7%AF">2. 思路</a>
<ul data-source-line="23">
<li data-source-line="23"><a href="#21-%E9%97%AE%E9%A2%98">2.1 问题</a></li>
</ul>
</li>
<li data-source-line="24"><a href="#3-%E5%AE%9E%E7%8E%B0">3. 实现</a></li>
</ul>
</li>
</ul>
<h2 id="1-题目" data-source-line="28">1. 题目 </h2>
<p data-source-line="30">Sorting holds an important place in computer science. Analyzing and implementing various sorting algorithms forms an important part of the education of most computer scientists, and sorting accounts for a significant percentage of the world’s computational resources. Sorting algorithms range from the bewilderingly popular Bubble sort, to Quicksort, to parallel sorting algorithms and sorting networks. In this problem you will be writing a program that creates a sorting program (a meta-sorter).</p>
<p data-source-line="32">The problem is to create several programs whose output is a standard Pascal programs that sorts<br>
n numbers where n is the only input to the program you will write. The Pascal program generated by<br>
your program must have the following properties:</p>
<ul data-source-line="36">
<li data-source-line="36">
<p data-source-line="36">They must begin with program sort(input, output)；</p>
</li>
<li data-source-line="38">
<p data-source-line="38">They must declare storage for exactly n integer variables. The names of the variables must come<br>
from the first n letters of the alphabet (a, b, c, d, e, f).</p>
</li>
<li data-source-line="41">
<p data-source-line="41">A single readln statement must read in values for all the integer variables.</p>
</li>
<li data-source-line="43">
<p data-source-line="43">Other than writeln statements, the only statements in the program are if then else statements. The boolean conditional for each if statement must consist of one strict inequality (either &lt; or &gt; ) of two integer variables. Exactly n! writeln statements must appear in the program.</p>
</li>
<li data-source-line="45">
<p data-source-line="45">Exactly three semi-colons must appear in the programs</p>
<ol data-source-line="47">
<li data-source-line="47">
<p data-source-line="47">after the program header: program sort(input,output);</p>
</li>
<li data-source-line="49">
<p data-source-line="49">after the variable declaration: ... : integer;</p>
</li>
<li data-source-line="51">
<p data-source-line="51">after the readln statement: readln(...);</p>
</li>
</ol>
</li>
<li data-source-line="53">
<p data-source-line="53">No redundant comparisons of integer variables should be made. For example, during program<br>
execution, once it is determined that a &lt; b, variables a and b should not be compared again.</p>
</li>
<li data-source-line="56">
<p data-source-line="56">Every writeln statement must appear on a line by itself.</p>
</li>
<li data-source-line="58">
<p data-source-line="58">The programs must compile. Executing the program with input consisting of any arrangement of<br>
any n distinct integer values should result in the input values being printed in sorted order.</p>
</li>
</ul>
<p data-source-line="61">For those unfamiliar with Pascal syntax, the example at the end of this problem completely defines<br>
the small subset of Pascal needed.</p>
<p data-source-line="64">Input</p>
<p data-source-line="66">The input consist on a number in the first line indicating the number M of programs to make, followed<br>
by a blank line. Then there are M test cases, each one consisting on a single integer n on a line by<br>
itself with 1 &lt;= n &lt;= 8.</p>
<p data-source-line="70">There will be a blank line between test cases.</p>
<p data-source-line="72">Output</p>
<p data-source-line="74">The output is M compilable standard Pascal programs meeting the criteria specified above.</p>
<p data-source-line="76">Print a blank line between two consecutive programs.</p>
<h3 id="sample-input" data-source-line="78">Sample Input </h3>
<p data-source-line="80">1</p>
<p data-source-line="82">3</p>
<h3 id="sample-output" data-source-line="84">Sample Output </h3>
<pre data-role="codeBlock" data-info="pascal" class="language-pascal pascal"><code><span class="token keyword keyword-program">program</span> sort<span class="token punctuation">(</span>input<span class="token punctuation">,</span>output<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword keyword-var">var</span>  
a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c <span class="token punctuation">:</span> integer<span class="token punctuation">;</span>  
<span class="token keyword keyword-begin">begin</span>  
    readln<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword keyword-if">if</span> a <span class="token operator">&lt;</span> b <span class="token keyword keyword-then">then</span>  
        <span class="token keyword keyword-if">if</span> b <span class="token operator">&lt;</span> c <span class="token keyword keyword-then">then</span>  
            writeln<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span>  
        <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> a <span class="token operator">&lt;</span> c <span class="token keyword keyword-then">then</span>  
            writeln<span class="token punctuation">(</span>a<span class="token punctuation">,</span>c<span class="token punctuation">,</span>b<span class="token punctuation">)</span>  
        <span class="token keyword keyword-else">else</span>  
            writeln<span class="token punctuation">(</span>c<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>  
    <span class="token keyword keyword-else">else</span>  
        <span class="token keyword keyword-if">if</span> a <span class="token operator">&lt;</span> c <span class="token keyword keyword-then">then</span>  
            writeln<span class="token punctuation">(</span>b<span class="token punctuation">,</span>a<span class="token punctuation">,</span>c<span class="token punctuation">)</span>  
        <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> b <span class="token operator">&lt;</span> c <span class="token keyword keyword-then">then</span>  
            writeln<span class="token punctuation">(</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>a<span class="token punctuation">)</span>  
        <span class="token keyword keyword-else">else</span>  
            writeln<span class="token punctuation">(</span>c<span class="token punctuation">,</span>b<span class="token punctuation">,</span>a<span class="token punctuation">)</span>  
<span class="token keyword keyword-end">end</span><span class="token punctuation">.</span> 
</code></pre><h3 id="11-题意" data-source-line="110">1.1 题意 </h3>
<p data-source-line="112">题目输入给出两组数字，第一组n表示生成多少个程序，每一个程序有一个输入N，N表示待排序的元素个数。sample中输入为1 3，1表示有一个程序，3表示待排序的元素个数为3. 给出的输出是一个pascal程序，程序接受3个输入，并通过枚举比较元素大小。</p>
<h2 id="2-思路" data-source-line="114">2. 思路 </h2>
<p data-source-line="116">题意是根据输入的数字输出一个pascal程序，程序是枚举输入变量并进行排序。通过观察给定的输出，发现问题可以抽取为对给定数目的字符做全排列，并按照指定的格式输出。</p>
<p data-source-line="118">按照题意，很自然的先想到递归，递归大致框架如下：遍历过程和选择排序类似，以a, b, c三个元素为例，最开始list有一个元素a，接下来判断b&gt;a或者b&lt; a, 得到ab或ba；如果a&lt; b, 接下来插入c有三种可能abc, acb, cab. 通过递归在list中插入元素，最终得到的list元素个数和待排序元素个数相等，则递归结束。</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token function">print</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> size <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//如果list元素个数等于待排序元素个数，则递归结束，输出。</span>
    <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token operator">=</span> size<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         <span class="token comment">//list添加元素</span>
         list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token comment">//根据i选择输出if/else if/else</span>
        <span class="token function">print</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><p data-source-line="134">按照递归的思路提交了代码，结果超时(超时不一定由递归引起), 所以考虑改为非递归方式。将上面的递归所有可能情形列举出来，并根据case之间的联系(插入排序时，比较并插入该元素，所以每个非叶节点的子节点为该节点添加下一个元素的所有可能情形), 得到了一颗树，如下：</p>
<p class="graphviz"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: sort Pages: 1 -->
<svg width="422pt" height="188pt" viewBox="0.00 0.00 422.00 188.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">
<title>sort</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-184 418,-184 418,4 -4,4"></polygon>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="black" cx="207" cy="-162" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="207" y="-157.8" font-family="Times,serif" font-size="14.00">a</text>
</g>
<!-- ab -->
<g id="node2" class="node">
<title>ab</title>
<ellipse fill="none" stroke="black" cx="135" cy="-90" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="135" y="-85.8" font-family="Times,serif" font-size="14.00">ab</text>
</g>
<!-- a&#45;&#45;ab -->
<g id="edge1" class="edge">
<title>a--ab</title>
<path fill="none" stroke="black" d="M192.08,-146.5C179.72,-134.48 162.25,-117.49 149.9,-105.49"></path>
</g>
<!-- ba -->
<g id="node3" class="node">
<title>ba</title>
<ellipse fill="none" stroke="black" cx="279" cy="-90" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="279" y="-85.8" font-family="Times,serif" font-size="14.00">ba</text>
</g>
<!-- a&#45;&#45;ba -->
<g id="edge2" class="edge">
<title>a--ba</title>
<path fill="none" stroke="black" d="M221.92,-146.5C234.28,-134.48 251.75,-117.49 264.1,-105.49"></path>
</g>
<!-- abc -->
<g id="node4" class="node">
<title>abc</title>
<ellipse fill="none" stroke="black" cx="27" cy="-18" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="27" y="-13.8" font-family="Times,serif" font-size="14.00">abc</text>
</g>
<!-- ab&#45;&#45;abc -->
<g id="edge3" class="edge">
<title>ab--abc</title>
<path fill="none" stroke="black" d="M116.19,-76.81C96.49,-64.04 65.72,-44.09 45.96,-31.29"></path>
</g>
<!-- acb -->
<g id="node5" class="node">
<title>acb</title>
<ellipse fill="none" stroke="black" cx="99" cy="-18" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="99" y="-13.8" font-family="Times,serif" font-size="14.00">acb</text>
</g>
<!-- ab&#45;&#45;acb -->
<g id="edge4" class="edge">
<title>ab--acb</title>
<path fill="none" stroke="black" d="M126.65,-72.76C120.83,-61.46 113.11,-46.44 107.3,-35.15"></path>
</g>
<!-- cab -->
<g id="node6" class="node">
<title>cab</title>
<ellipse fill="none" stroke="black" cx="171" cy="-18" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="171" y="-13.8" font-family="Times,serif" font-size="14.00">cab</text>
</g>
<!-- ab&#45;&#45;cab -->
<g id="edge5" class="edge">
<title>ab--cab</title>
<path fill="none" stroke="black" d="M143.35,-72.76C149.17,-61.46 156.89,-46.44 162.7,-35.15"></path>
</g>
<!-- bac -->
<g id="node7" class="node">
<title>bac</title>
<ellipse fill="none" stroke="black" cx="243" cy="-18" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="243" y="-13.8" font-family="Times,serif" font-size="14.00">bac</text>
</g>
<!-- ba&#45;&#45;bac -->
<g id="edge6" class="edge">
<title>ba--bac</title>
<path fill="none" stroke="black" d="M270.65,-72.76C264.83,-61.46 257.11,-46.44 251.3,-35.15"></path>
</g>
<!-- bca -->
<g id="node8" class="node">
<title>bca</title>
<ellipse fill="none" stroke="black" cx="315" cy="-18" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="315" y="-13.8" font-family="Times,serif" font-size="14.00">bca</text>
</g>
<!-- ba&#45;&#45;bca -->
<g id="edge7" class="edge">
<title>ba--bca</title>
<path fill="none" stroke="black" d="M287.35,-72.76C293.17,-61.46 300.89,-46.44 306.7,-35.15"></path>
</g>
<!-- cba -->
<g id="node9" class="node">
<title>cba</title>
<ellipse fill="none" stroke="black" cx="387" cy="-18" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="387" y="-13.8" font-family="Times,serif" font-size="14.00">cba</text>
</g>
<!-- ba&#45;&#45;cba -->
<g id="edge8" class="edge">
<title>ba--cba</title>
<path fill="none" stroke="black" d="M297.81,-76.81C317.51,-64.04 348.28,-44.09 368.04,-31.29"></path>
</g>
</g>
</svg>
</p><p data-source-line="151">通过对树的遍历我们即可构造出所需要的程序，遍历顺序为：</p>
<p class="graphviz"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: sort Pages: 1 -->
<svg width="454pt" height="204pt" viewBox="0.00 0.00 454.00 204.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 200)">
<title>sort</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-200 450,-200 450,4 -4,4"></polygon>
<g id="clust1" class="cluster">
<title>cluster_a</title>
</g>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="black" cx="187" cy="-178" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="187" y="-173.8" font-family="Times,serif" font-size="14.00">a</text>
</g>
<!-- ab -->
<g id="node2" class="node">
<title>ab</title>
<ellipse fill="none" stroke="black" cx="151" cy="-106" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="151" y="-101.8" font-family="Times,serif" font-size="14.00">ab</text>
</g>
<!-- a&#45;&gt;ab -->
<g id="edge1" class="edge">
<title>a-&gt;ab</title>
<path fill="none" stroke="red" d="M178.65,-160.76C174.42,-152.55 169.19,-142.37 164.42,-133.09"></path>
<polygon fill="red" stroke="red" points="167.68,-131.79 160,-124.49 161.46,-134.99 167.68,-131.79"></polygon>
</g>
<!-- ba -->
<g id="node3" class="node">
<title>ba</title>
<ellipse fill="none" stroke="black" cx="259" cy="-106" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="259" y="-101.8" font-family="Times,serif" font-size="14.00">ba</text>
</g>
<!-- a&#45;&gt;ba -->
<g id="edge2" class="edge">
<title>a-&gt;ba</title>
<path fill="none" stroke="black" d="M201.92,-162.5C211.77,-152.92 224.86,-140.19 236.03,-129.34"></path>
<polygon fill="black" stroke="black" points="238.29,-132.02 243.02,-122.54 233.41,-127 238.29,-132.02"></polygon>
</g>
<!-- abc -->
<g id="node4" class="node">
<title>abc</title>
<ellipse fill="none" stroke="black" cx="43" cy="-34" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="43" y="-29.8" font-family="Times,serif" font-size="14.00">abc</text>
</g>
<!-- ab&#45;&gt;abc -->
<g id="edge3" class="edge">
<title>ab-&gt;abc</title>
<path fill="none" stroke="red" d="M131.59,-93.22C117,-84.28 96.6,-71.6 79,-60 76.11,-58.09 73.1,-56.07 70.12,-54.04"></path>
<polygon fill="red" stroke="red" points="72.29,-51.29 62.07,-48.49 68.32,-57.05 72.29,-51.29"></polygon>
</g>
<!-- acb -->
<g id="node5" class="node">
<title>acb</title>
<ellipse fill="none" stroke="black" cx="115" cy="-34" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="115" y="-29.8" font-family="Times,serif" font-size="14.00">acb</text>
</g>
<!-- ab&#45;&gt;acb -->
<g id="edge4" class="edge">
<title>ab-&gt;acb</title>
<path fill="none" stroke="black" d="M142.65,-88.76C138.42,-80.55 133.19,-70.37 128.42,-61.09"></path>
<polygon fill="black" stroke="black" points="131.68,-59.79 124,-52.49 125.46,-62.99 131.68,-59.79"></polygon>
</g>
<!-- cab -->
<g id="node6" class="node">
<title>cab</title>
<ellipse fill="none" stroke="black" cx="187" cy="-34" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="187" y="-29.8" font-family="Times,serif" font-size="14.00">cab</text>
</g>
<!-- ab&#45;&gt;cab -->
<g id="edge5" class="edge">
<title>ab-&gt;cab</title>
<path fill="none" stroke="black" d="M159.35,-88.76C163.58,-80.55 168.81,-70.37 173.58,-61.09"></path>
<polygon fill="black" stroke="black" points="176.54,-62.99 178,-52.49 170.32,-59.79 176.54,-62.99"></polygon>
</g>
<!-- bac -->
<g id="node7" class="node">
<title>bac</title>
<ellipse fill="none" stroke="black" cx="259" cy="-34" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="259" y="-29.8" font-family="Times,serif" font-size="14.00">bac</text>
</g>
<!-- ba&#45;&gt;bac -->
<g id="edge6" class="edge">
<title>ba-&gt;bac</title>
<path fill="none" stroke="red" d="M259,-87.7C259,-80.41 259,-71.73 259,-63.54"></path>
<polygon fill="red" stroke="red" points="262.5,-63.62 259,-53.62 255.5,-63.62 262.5,-63.62"></polygon>
</g>
<!-- bca -->
<g id="node8" class="node">
<title>bca</title>
<ellipse fill="none" stroke="black" cx="331" cy="-34" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="331" y="-29.8" font-family="Times,serif" font-size="14.00">bca</text>
</g>
<!-- ba&#45;&gt;bca -->
<g id="edge7" class="edge">
<title>ba-&gt;bca</title>
<path fill="none" stroke="black" d="M273.92,-90.5C283.77,-80.92 296.86,-68.19 308.03,-57.34"></path>
<polygon fill="black" stroke="black" points="310.29,-60.02 315.02,-50.54 305.41,-55 310.29,-60.02"></polygon>
</g>
<!-- cba -->
<g id="node9" class="node">
<title>cba</title>
<ellipse fill="none" stroke="black" cx="403" cy="-34" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="403" y="-29.8" font-family="Times,serif" font-size="14.00">cba</text>
</g>
<!-- ba&#45;&gt;cba -->
<g id="edge8" class="edge">
<title>ba-&gt;cba</title>
<path fill="none" stroke="black" d="M282.41,-96.89C304.74,-88.77 339.03,-75.31 367,-60 370.04,-58.34 373.14,-56.47 376.17,-54.54"></path>
<polygon fill="black" stroke="black" points="377.94,-57.57 384.28,-49.08 374.03,-51.76 377.94,-57.57"></polygon>
</g>
<!-- abc&#45;&gt;acb -->
<g id="edge9" class="edge">
<title>abc-&gt;acb</title>
<path fill="none" stroke="red" d="M70.28,-34C72.28,-34 74.28,-34 76.29,-34"></path>
<polygon fill="red" stroke="red" points="76.24,-37.5 86.24,-34 76.24,-30.5 76.24,-37.5"></polygon>
</g>
<!-- acb&#45;&gt;cab -->
<g id="edge10" class="edge">
<title>acb-&gt;cab</title>
<path fill="none" stroke="red" d="M142.28,-34C144.28,-34 146.28,-34 148.29,-34"></path>
<polygon fill="red" stroke="red" points="148.24,-37.5 158.24,-34 148.24,-30.5 148.24,-37.5"></polygon>
</g>
<!-- cab&#45;&gt;ba -->
<g id="edge11" class="edge">
<title>cab-&gt;ba</title>
<path fill="none" stroke="red" d="M201.9,-49.49C211.74,-59.05 224.84,-71.79 236,-82.64"></path>
<polygon fill="red" stroke="red" points="233.39,-84.98 243,-89.44 238.27,-79.96 233.39,-84.98"></polygon>
</g>
<!-- bac&#45;&gt;bca -->
<g id="edge12" class="edge">
<title>bac-&gt;bca</title>
<path fill="none" stroke="red" d="M286.28,-34C288.28,-34 290.28,-34 292.29,-34"></path>
<polygon fill="red" stroke="red" points="292.24,-37.5 302.24,-34 292.24,-30.5 292.24,-37.5"></polygon>
</g>
<!-- bca&#45;&gt;cba -->
<g id="edge13" class="edge">
<title>bca-&gt;cba</title>
<path fill="none" stroke="red" d="M358.28,-34C360.28,-34 362.28,-34 364.29,-34"></path>
<polygon fill="red" stroke="red" points="364.24,-37.5 374.24,-34 364.24,-30.5 364.24,-37.5"></polygon>
</g>
</g>
</svg>
</p><p data-source-line="185">采用非递归方式，我们需要用栈保存非叶节点, 并在遍历完当前节点的子叶子节点后，获取到当前节点的兄弟节点。以a, b, c节点为例，令排序元素个数为N:</p>
<ul data-source-line="187">
<li data-source-line="187">先将a, ab, abc入栈，得到step1；</li>
<li data-source-line="188">遍历abc的兄弟节点并输出，然后abc节点出栈，得到step2；</li>
<li data-source-line="189">取出栈顶元素，寻找该节点的下一个节点，也就是上述树图中相邻的兄弟节点，并入栈。这里我们得到step3的栈；</li>
<li data-source-line="190">由于栈顶数组元素个数小于N，所以需要入栈最左子节点，这里是bac，得到step4；</li>
<li data-source-line="191">此时栈和step1是一样的情况，栈顶兄弟节点遍历并出栈，得到step5；</li>
<li data-source-line="192">ba出栈，由于ba的下一个兄弟节点不存在，所以没有节点入栈，得到step6；</li>
<li data-source-line="193">a出栈，且a没有兄弟节点，此时栈为空，过程结束。</li>
</ul>
<p data-source-line="195">整个过程有两个关键的点：</p>
<ol data-source-line="197">
<li data-source-line="197">如果栈顶数组元素个数等于N，输出该节点及所有兄弟节点，并出栈；</li>
<li data-source-line="198">如果栈顶数组元素个数小于N，出栈，并获取节点下一个节点；如果下一个节点为空，继续当前过程直到栈为空或者下一个节点存在，然后入栈；不为空则直接入栈。入栈之后如果元素个数小于N，则需要入栈该节点的最左子节点，重复与N判断，直到栈顶数组元素个数为N。</li>
</ol>
<p class="graphviz"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: sort Pages: 1 -->
<svg width="804pt" height="164pt" viewBox="0.00 0.00 803.55 164.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(36 128.2)">
<title>sort</title>
<polygon fill="white" stroke="none" points="-36,36 -36,-128.2 767.55,-128.2 767.55,36 -36,36"></polygon>
<!-- stack1 -->
<g id="node1" class="node">
<title>stack1</title>
<polygon fill="none" stroke="black" points="29.55,-17.3 29.55,-91.7 83.55,-91.7 83.55,-17.3 29.55,-17.3"></polygon>
<text text-anchor="middle" x="56.55" y="-75.1" font-family="Microsoft YaHei" font-size="14.00">abc</text>
<polyline fill="none" stroke="black" points="29.55,-66.9 83.55,-66.9"></polyline>
<text text-anchor="middle" x="56.55" y="-50.3" font-family="Microsoft YaHei" font-size="14.00">ab</text>
<polyline fill="none" stroke="black" points="29.55,-42.1 83.55,-42.1"></polyline>
<text text-anchor="middle" x="56.55" y="-25.5" font-family="Microsoft YaHei" font-size="14.00">a</text>
<text text-anchor="middle" x="14.78" y="-4.2" font-family="Microsoft YaHei" font-size="14.00">step1</text>
</g>
<!-- stack2 -->
<g id="node2" class="node">
<title>stack2</title>
<polygon fill="none" stroke="black" points="137.55,-29.7 137.55,-79.3 191.55,-79.3 191.55,-29.7 137.55,-29.7"></polygon>
<text text-anchor="middle" x="164.55" y="-62.7" font-family="Microsoft YaHei" font-size="14.00">ab</text>
<polyline fill="none" stroke="black" points="137.55,-54.5 191.55,-54.5"></polyline>
<text text-anchor="middle" x="164.55" y="-37.9" font-family="Microsoft YaHei" font-size="14.00">a</text>
<text text-anchor="middle" x="122.78" y="-16.6" font-family="Microsoft YaHei" font-size="14.00">step2</text>
</g>
<!-- stack1&#45;&gt;stack2 -->
<g id="edge1" class="edge">
<title>stack1-&gt;stack2</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M84.03,-54.5C96.77,-54.5 112.27,-54.5 126.19,-54.5"></path>
<polygon fill="black" stroke="black" points="125.9,-58 135.9,-54.5 125.9,-51 125.9,-58"></polygon>
</g>
<!-- stack3 -->
<g id="node3" class="node">
<title>stack3</title>
<polygon fill="none" stroke="black" points="245.55,-29.7 245.55,-79.3 299.55,-79.3 299.55,-29.7 245.55,-29.7"></polygon>
<text text-anchor="middle" x="272.55" y="-62.7" font-family="Microsoft YaHei" font-size="14.00">ba</text>
<polyline fill="none" stroke="black" points="245.55,-54.5 299.55,-54.5"></polyline>
<text text-anchor="middle" x="272.55" y="-37.9" font-family="Microsoft YaHei" font-size="14.00">a</text>
<text text-anchor="middle" x="230.78" y="-16.6" font-family="Microsoft YaHei" font-size="14.00">step3</text>
</g>
<!-- stack2&#45;&gt;stack3 -->
<g id="edge2" class="edge">
<title>stack2-&gt;stack3</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M192.03,-54.5C204.77,-54.5 220.27,-54.5 234.19,-54.5"></path>
<polygon fill="black" stroke="black" points="233.9,-58 243.9,-54.5 233.9,-51 233.9,-58"></polygon>
</g>
<!-- stack4 -->
<g id="node4" class="node">
<title>stack4</title>
<polygon fill="none" stroke="black" points="353.55,-17.3 353.55,-91.7 407.55,-91.7 407.55,-17.3 353.55,-17.3"></polygon>
<text text-anchor="middle" x="380.55" y="-75.1" font-family="Microsoft YaHei" font-size="14.00">bac</text>
<polyline fill="none" stroke="black" points="353.55,-66.9 407.55,-66.9"></polyline>
<text text-anchor="middle" x="380.55" y="-50.3" font-family="Microsoft YaHei" font-size="14.00">ba</text>
<polyline fill="none" stroke="black" points="353.55,-42.1 407.55,-42.1"></polyline>
<text text-anchor="middle" x="380.55" y="-25.5" font-family="Microsoft YaHei" font-size="14.00">a</text>
<text text-anchor="middle" x="338.78" y="-4.2" font-family="Microsoft YaHei" font-size="14.00">step4</text>
</g>
<!-- stack3&#45;&gt;stack4 -->
<g id="edge3" class="edge">
<title>stack3-&gt;stack4</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M300.03,-54.5C312.77,-54.5 328.27,-54.5 342.19,-54.5"></path>
<polygon fill="black" stroke="black" points="341.9,-58 351.9,-54.5 341.9,-51 341.9,-58"></polygon>
</g>
<!-- stack5 -->
<g id="node5" class="node">
<title>stack5</title>
<polygon fill="none" stroke="black" points="461.55,-29.7 461.55,-79.3 515.55,-79.3 515.55,-29.7 461.55,-29.7"></polygon>
<text text-anchor="middle" x="488.55" y="-62.7" font-family="Microsoft YaHei" font-size="14.00">ba</text>
<polyline fill="none" stroke="black" points="461.55,-54.5 515.55,-54.5"></polyline>
<text text-anchor="middle" x="488.55" y="-37.9" font-family="Microsoft YaHei" font-size="14.00">a</text>
<text text-anchor="middle" x="446.78" y="-16.6" font-family="Microsoft YaHei" font-size="14.00">step5</text>
</g>
<!-- stack4&#45;&gt;stack5 -->
<g id="edge4" class="edge">
<title>stack4-&gt;stack5</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M408.03,-54.5C420.77,-54.5 436.27,-54.5 450.19,-54.5"></path>
<polygon fill="black" stroke="black" points="449.9,-58 459.9,-54.5 449.9,-51 449.9,-58"></polygon>
</g>
<!-- stack6 -->
<g id="node6" class="node">
<title>stack6</title>
<polygon fill="none" stroke="black" points="569.55,-36.5 569.55,-72.5 623.55,-72.5 623.55,-36.5 569.55,-36.5"></polygon>
<text text-anchor="middle" x="596.55" y="-50.4" font-family="Microsoft YaHei" font-size="14.00">a</text>
<text text-anchor="middle" x="554.78" y="-23.4" font-family="Microsoft YaHei" font-size="14.00">step6</text>
</g>
<!-- stack5&#45;&gt;stack6 -->
<g id="edge5" class="edge">
<title>stack5-&gt;stack6</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M516.03,-54.5C528.77,-54.5 544.27,-54.5 558.19,-54.5"></path>
<polygon fill="black" stroke="black" points="557.9,-58 567.9,-54.5 557.9,-51 557.9,-58"></polygon>
</g>
<!-- stack7 -->
<g id="node7" class="node">
<title>stack7</title>
<polygon fill="none" stroke="black" points="677.55,-36.5 677.55,-72.5 731.55,-72.5 731.55,-36.5 677.55,-36.5"></polygon>
<text text-anchor="middle" x="704.55" y="-50.4" font-family="Microsoft YaHei" font-size="14.00"> </text>
<text text-anchor="middle" x="662.78" y="-23.4" font-family="Microsoft YaHei" font-size="14.00">step7</text>
</g>
<!-- stack6&#45;&gt;stack7 -->
<g id="edge6" class="edge">
<title>stack6-&gt;stack7</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M624.03,-54.5C636.77,-54.5 652.27,-54.5 666.19,-54.5"></path>
<polygon fill="black" stroke="black" points="665.9,-58 675.9,-54.5 665.9,-51 665.9,-58"></polygon>
</g>
</g>
</svg>
</p><h3 id="21-问题" data-source-line="265">2.1 问题 </h3>
<p data-source-line="267">在实现过程中提交之后遇到了超时的问题，通过使用idea的profile工具，发现耗时主要集中在format上。在最初实现版本中，所有的输出都是及时输出，使用printf("%s, ", str)这种格式，因为系统会大量循环多次调用printf，导致超时。通过将printf改为StringBuilder，将待输出字符串拼接，减少printf的调用次数，从而减少运行时间。</p>
<h2 id="3-实现" data-source-line="269">3. 实现 </h2>
<pre data-role="codeBlock" data-info="JAVA" class="language-java JAVA"><code><span class="token comment">// JAVA</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileNotFoundException</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Stack</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> alphabeta <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token char">'a'</span><span class="token punctuation">,</span> <span class="token char">'b'</span><span class="token punctuation">,</span> <span class="token char">'c'</span><span class="token punctuation">,</span> <span class="token char">'d'</span><span class="token punctuation">,</span> <span class="token char">'e'</span><span class="token punctuation">,</span> <span class="token char">'f'</span><span class="token punctuation">,</span> <span class="token char">'g'</span><span class="token punctuation">,</span> <span class="token char">'h'</span><span class="token punctuation">,</span> <span class="token char">'i'</span><span class="token punctuation">,</span> <span class="token char">'j'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"number.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-try">try</span> <span class="token punctuation">{</span>
            scanner <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword keyword-catch">catch</span> <span class="token punctuation">(</span><span class="token class-name">FileNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token comment">//        Scanner scanner = new Scanner(System.in);</span>

        <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token keyword keyword-int">int</span> numOfProgram <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numOfProgram<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword keyword-int">int</span> number <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">StringBuilder</span> result <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"program sort(input,output);\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"var\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>alphabeta<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> number<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>alphabeta<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">" : integer;\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"begin\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"readln("</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">");\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">print</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token string">"end."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> numOfProgram <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 打印主体结构
     */</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> number<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>alphabeta<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token doc-comment comment">/**
         * step1的入栈过程，执行完这些步骤后得到step1的栈
         */</span>
        <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">StringBuilder</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> number<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">StringBuilder</span> locsb <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-int">int</span> length <span class="token operator">=</span> locsb<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">StringBuilder</span> sbblanks <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                sbblanks<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"  "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">String</span> blanks <span class="token operator">=</span> sbblanks<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>length <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%sif %c &lt; %c then\n"</span><span class="token punctuation">,</span> blanks<span class="token punctuation">,</span> locsb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> locsb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>locsb<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">StringBuilder</span> result <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">StringBuilder</span> peekStr <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>peekStr<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//打印栈顶</span>
                <span class="token function">printPeek</span><span class="token punctuation">(</span>peekStr<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
                <span class="token comment">//获取栈顶下一个节点</span>
                peekStr <span class="token operator">=</span> <span class="token function">nextStr</span><span class="token punctuation">(</span>peekStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>peekStr <span class="token operator">!=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">printStr</span><span class="token punctuation">(</span>peekStr<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>peekStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">//栈顶数组元素个数小于N，则循环入栈，直至栈顶元素等于N</span>
                    <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span>peekStr<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        peekStr <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span>peekStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        peekStr<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>peekStr<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token function">printStr</span><span class="token punctuation">(</span>peekStr<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>peekStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 打印栈顶，当栈顶数组元素个数等于N时
     */</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">printPeek</span><span class="token punctuation">(</span><span class="token class-name">StringBuilder</span> sb<span class="token punctuation">,</span> <span class="token class-name">StringBuilder</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-int">int</span> length <span class="token operator">=</span> sb<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-int">int</span> index <span class="token operator">=</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>

        <span class="token class-name">StringBuilder</span> blanks <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            blanks<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"  "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">String</span> blank <span class="token operator">=</span> blanks<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> index <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> index<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>blank<span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"else\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>blank<span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"else if "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">" &lt; "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">" then\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>blank<span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"writeln("</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> index<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> index<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">")\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * find next str，当栈顶数组元素个数小于N时，寻找下一个元素
     *
     * <span class="token keyword keyword-@param">@param</span> <span class="token parameter">sb</span>
     * <span class="token keyword keyword-@return">@return</span>
     */</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token class-name">StringBuilder</span> <span class="token function">nextStr</span><span class="token punctuation">(</span><span class="token class-name">StringBuilder</span> sb<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-int">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> maxIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sb<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token char">'a'</span> <span class="token operator">&gt;</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                index <span class="token operator">=</span> sb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">;</span>
                maxIndex <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-char">char</span> maxChar <span class="token operator">=</span> sb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>maxIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        sb<span class="token punctuation">.</span><span class="token function">deleteCharAt</span><span class="token punctuation">(</span>maxIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>maxIndex <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            sb<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>maxIndex <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> maxChar<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-return">return</span> sb<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 打印中间结果，主要是 if then/else if then /else
     *
     */</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">printStr</span><span class="token punctuation">(</span><span class="token class-name">StringBuilder</span> sb<span class="token punctuation">,</span> <span class="token class-name">StringBuilder</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> blanks <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sb<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            blanks<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"  "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">String</span> blank <span class="token operator">=</span> blanks<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-int">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> maxIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sb<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token char">'a'</span> <span class="token operator">&gt;</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                index <span class="token operator">=</span> sb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">;</span>
                maxIndex <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>maxIndex <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>blank<span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"else\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>maxIndex <span class="token operator">==</span> sb<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>blank<span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"if "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>maxIndex <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">" &lt; "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>maxIndex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">" then\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>blank<span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"else if "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>maxIndex <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">" &lt; "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>maxIndex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">" then\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
      <div class="md-sidebar-toc">
<div class="md-toc">
<details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#meta-loopless-sorts" class="md-toc-link"><p data-source-line="1">Meta-Loopless Sorts</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#1-题目" class="md-toc-link"><ol data-source-line="1">
<li data-source-line="1">题目</li>
</ol>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#sample-input" class="md-toc-link">
            <p data-source-line="1">Sample Input</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#sample-output" class="md-toc-link">
            <p data-source-line="1">Sample Output</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#11-题意" class="md-toc-link">
            <p data-source-line="1">1.1 题意</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#2-思路" class="md-toc-link"><ol start="2" data-source-line="1">
<li data-source-line="1">思路</li>
</ol>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#21-问题" class="md-toc-link">
            <p data-source-line="1">2.1 问题</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#3-实现" class="md-toc-link">
            <ol start="3" data-source-line="1">
<li data-source-line="1">实现</li>
</ol>

          </a></div>
        </div>
      </details>
    
</div>
</div>
      <a id="sidebar-toc-btn">≡</a>
    
    
    
    
    
    
<script>

var sidebarTOCBtn = document.getElementById('sidebar-toc-btn')
sidebarTOCBtn.addEventListener('click', function(event) {
  event.stopPropagation()
  if (document.body.hasAttribute('html-show-sidebar-toc')) {
    document.body.removeAttribute('html-show-sidebar-toc')
  } else {
    document.body.setAttribute('html-show-sidebar-toc', true)
  }
})
</script>
      
  
    </body></html>